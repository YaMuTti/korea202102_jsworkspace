<!DOCTYPE html>
<html>
<head>
<script src="../js/store.js"></script>
<script>

var googleMap;
var foodArray=[];
var map;
var a=0;
/*
for(var i=0;i<store.storeList.length;i++){
    var jumpo = store.storeList[i];
    console.log(jumpo.name);
};
*/
//위의 div가 로드되면 접근하려고...
function myMap() {
    var mapProp= {
        center:new google.maps.LatLng(37.49999642375552, 127.03547096543942),
        zoom:16
    };
    map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
    for(var i=0;i<store.storeList.length;i++){
        mak();
    };

}

function mak(){
    var marker = new google.maps.Marker({
        position: new google.maps.LatLng(store.storeList[a].latLng.lat,store.storeList[a].latLng.lng),
        animation:google.maps.Animation.BOUNCE,
        icon:{
            url:store.storeList[a].image,
            scaledSize: new google.maps.Size(50,50)
        }
    });
    var infowindow = new google.maps.InfoWindow({
            content:store.storeList[a].review
        });
    google.maps.event.addListener(marker,'click',function(){
        infowindow.open(map,marker);
            });
    marker.setMap(map);
    foodArray.push(marker);
    a++;
}

window.addEventListener("load", function(){
    googleMap = document. getElementById("googleMap");
    
});
</script>
</head>
<body>
<h1>My First Google Map</h1>
<div id="googleMap" style="width:100%;height:600px;"></div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxT1YeZjY7y-GMR5-HZfeWHiXbxUZgyLI&callback=myMap"></script>
</body>
</html>